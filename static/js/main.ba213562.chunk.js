(this["webpackJsonpsmart-dropdown"]=this["webpackJsonpsmart-dropdown"]||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(2),i=n.n(s),r=n(3),c=n(4),l=n(5),d=n(6),u=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).toggleAddPrivilage=function(){a.setState({hasAddPrivilage:!a.state.hasAddPrivilage})},a.toggleDropDown=function(){a.setState({isDropDownOpen:!a.state.isDropDownOpen,isDropDownExpanded:!1})},a.toggleDropDownExpanded=function(){a.setState({isDropDownExpanded:!a.state.isDropDownExpanded})},a.updateSeleted=function(e){a.setState({isDropDownOpen:!1,selected:e})},a.searchCountry=function(e){null!==a.debounceTimer&&clearTimeout(a.debounceTimer),a.debounceTimer=setTimeout((function(){a.setState({search:e,country:""===e?a.state.fetchedCountries:a.state.fetchedCountries.filter((function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1}))})}),1e3)},a.addAndSelect=function(){var e=a.state.fetchedCountries;e.push(a.state.search),a.setState({isDropDownOpen:!1,selected:a.state.search,country:e,fetchedCountries:e})},a.state={hasAddPrivilage:!1,isDropDownOpen:!1,isDropDownExpanded:!1,selected:"Select a location...",search:"",country:[],fetchedCountries:[],maxIteminList:5,debounceTimer:null},a}return Object(c.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;fetch("https://api.first.org/data/v1/countries").then((function(t){t.json().then((function(t){e.setState({country:Object.values(t.data).map((function(e){return e.country})),fetchedCountries:Object.values(t.data).map((function(e){return e.country}))})}))})).catch((function(e){console.log("Failed to fetch")}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"project-holder"},o.a.createElement("h1",null,"Smart Drop down with React JS"),o.a.createElement("p",{align:"justify"},"The parent is responsible for passing the Array of countries. The child should iterate and display the list of countries received. The max no. of items listed in the dropdown should be configureable from the parent. Upon user selecting the country, the parent should log the selected the country."),o.a.createElement("ul",null,o.a.createElement("li",null,"If the user with Add privilege, then if the location user searching is not part of the list, then possible to add"),o.a.createElement("li",null,'If user, dont have privilege to Add, dont display the "Add & Select" button.'),o.a.createElement("li",null,'If user click on "X more...", then the complete list of countries would be displayed.'),o.a.createElement("li",null,"Debounce to control user input")),o.a.createElement("div",{className:"row"},this.state.hasAddPrivilage?o.a.createElement("button",{className:"button",onClick:this.toggleAddPrivilage},"Remove Add Privilage"):o.a.createElement("button",{className:"button",onClick:this.toggleAddPrivilage},"Provide Add Privilage")),o.a.createElement("div",{className:"component-holder row"},o.a.createElement("div",{className:this.state.isDropDownOpen?"select-holder active":"select-holder",onClick:this.toggleDropDown},this.state.selected),this.state.isDropDownOpen&&o.a.createElement("div",{className:this.state.isDropDownExpanded?"dropdown-content expanded":"dropdown-content"},o.a.createElement("input",{type:"text",placeholder:"Search...",className:"search-input",onChange:function(t){return e.searchCountry(t.target.value)}}),this.state.country.length>0?this.state.isDropDownExpanded?this.state.country.map((function(t,n){return o.a.createElement("div",{className:"list-item",key:n,onClick:function(){e.updateSeleted(t)}},t)})):this.state.country.slice(0,this.state.maxIteminList).map((function(t,n){return o.a.createElement("div",{className:"list-item",key:n,onClick:function(){e.updateSeleted(t)}},t)})):o.a.createElement("div",{className:"dropdown-content"},o.a.createElement("div",{className:"list-item"},""===this.state.search?"Failed to fetch countries":"".concat(this.state.search," not found"),this.state.hasAddPrivilage&&o.a.createElement("button",{className:"button button-outline float-right add-button",onClick:this.addAndSelect},"Add & Select"))),this.state.country.length>this.state.maxIteminList&&!1===this.state.isDropDownExpanded&&o.a.createElement("span",{className:"more-chip",onClick:this.toggleDropDownExpanded},this.state.country.length-this.state.maxIteminList," more ..."))))}}]),n}(o.a.Component);i.a.render(o.a.createElement(u,null),document.getElementById("root"))},7:function(e,t,n){e.exports=n(12)}},[[7,1,2]]]);
//# sourceMappingURL=main.ba213562.chunk.js.map